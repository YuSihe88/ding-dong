"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.grpcError = void 0;
const wechaty_grpc_1 = require("wechaty-grpc");
const wechaty_puppet_1 = require("wechaty-puppet");
function grpcError(method, e, callback) {
    wechaty_puppet_1.log.error('PuppetServiceImpl', `grpcError() ${method}() rejection: %s`, e && e.message);
    const error = {
        ...e,
        code: wechaty_grpc_1.grpc.status.INTERNAL,
        details: e.message,
        metadata: new wechaty_grpc_1.grpc.Metadata(),
    };
    return callback(error, null);
}
exports.grpcError = grpcError;
//# sourceMappingURL=grpc-error.js.map