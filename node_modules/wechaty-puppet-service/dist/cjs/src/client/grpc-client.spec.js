#!/usr/bin/env -S node --no-warnings --loader ts-node/esm
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tstest_1 = require("tstest");
const grpc_client_js_1 = require("./grpc-client.js");
/**
 * Huan(202108):
 *  the Server Name Identifier (SNI) in the token
 *    is required by the gRPC client.
 */
(0, tstest_1.test)('GrpcClient smoke testing', async (t) => {
    t.throws(() => new grpc_client_js_1.GrpcClient({
        token: 'UUIDv4',
    }), 'should throw if there is no SNI prefix in token');
    t.doesNotThrow(() => new grpc_client_js_1.GrpcClient({
        token: 'SNI_UUIDv4',
    }), 'should not throw if there is SNI prefix in token');
});
//# sourceMappingURL=grpc-client.spec.js.map