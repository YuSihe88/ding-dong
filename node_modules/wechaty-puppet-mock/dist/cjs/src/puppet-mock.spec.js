#!/usr/bin/env node --no-warnings --loader ts-node/esm
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tstest_1 = require("tstest");
const puppet_mock_js_1 = require("./puppet-mock.js");
class PuppetMockTest extends puppet_mock_js_1.PuppetMock {
}
(0, tstest_1.test)('PuppetMock perfect restart testing', async (t) => {
    const puppet = new PuppetMockTest();
    try {
        for (let i = 0; i < 3; i++) {
            await puppet.start();
            t.ok(puppet.state.on(), 'should be turned on after start()');
            await puppet.stop();
            t.ok(puppet.state.off(), 'should be turned off after stop()');
            t.pass('start/stop-ed at #' + i);
        }
        t.pass('PuppetMock() perfect restart pass.');
    }
    catch (e) {
        t.fail(e);
    }
});
//# sourceMappingURL=puppet-mock.spec.js.map