"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getWhatsApp = exports.WhatsApp = void 0;
const wechaty_puppet_1 = require("wechaty-puppet");
const whatsapp_web_js_1 = require("whatsapp-web.js");
Object.defineProperty(exports, "WhatsApp", { enumerable: true, get: function () { return whatsapp_web_js_1.Client; } });
async function getWhatsApp(session) {
    wechaty_puppet_1.log.verbose('PuppetWhatsApp', 'getWhatsApp()');
    const puppeteer = {
        /**
         * No usable sandbox!
         *  https://github.com/pedroslopez/whatsapp-web.js/issues/344#issuecomment-691570764
         */
        args: [
            '--no-sandbox',
            '--disable-setuid-sandbox',
        ],
        headless: true,
    };
    const whatsapp = new whatsapp_web_js_1.Client({
        puppeteer,
        session,
    });
    return whatsapp;
}
exports.getWhatsApp = getWhatsApp;
//# sourceMappingURL=whatsapp.js.map